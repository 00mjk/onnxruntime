<?xml version="1.0" encoding="utf-8"?>
<package xmlns="http://schemas.microsoft.com/packaging/2010/07/nuspec.xsd">
    <metadata>
        <!-- Required elements-->
        <id>$id$</id>
        <description>This package contains ONNX Runtime for .Net platforms</description>
        <authors>Microsoft</authors>
        <version>$version$</version>
        <!-- Optional elements -->

        <tags>ONNX;ONNX Runtime;Machine Learning</tags>
        <projectUrl>https://github.com/Microsoft/onnxruntime</projectUrl>
        <copyright>Â© Microsoft Corporation. All rights reserved.</copyright>
        <license type="file">LICENSE.txt</license>
        <iconUrl>https://go.microsoft.com/fwlink/?linkid=2049168</iconUrl>

        <releaseNotes>
            Release Def:
            Branch: $RepositoryBranch$
            Commit: $RepositoryCommit$
            Build: https://aiinfra.visualstudio.com/Lotus/_build/results?buildId=$BuildId$
        </releaseNotes>

        <repository
            type="$RepositoryType$"
            url="$RepositoryUrl$"
            branch="$RepositoryBranch$"
            commit="$RepositoryCommit$"
        />

        <dependencies>
            <dependency id="System.Memory" version="4.5.3"/> 
            <!--Note: keep it in sync with the dependency in Microsoft.ML.OnnxRuntime.Tensors.csproj -->
        </dependencies>

        <references>
            <reference file="Microsoft.ML.OnnxRuntime.dll"/>
            <reference file="Microsoft.ML.OnnxRuntime.Tensors.dll"/>
        </references>
        
    </metadata>
    <files>
        <!-- Microsoft.ML.OnnxRuntime.dll,.pdb -->
        <file 
            src="bin\$Configuration$\netstandard1.1\Microsoft.ML.OnnxRuntime.dll" 
            target="lib\nestandard1.1"
        />
        <file 
            src="bin\$Configuration$\netstandard1.1\Microsoft.ML.OnnxRuntime.pdb" 
            target="lib\nestandard1.1"
        />
        <file 
            src="bin\$Configuration$\netstandard2.0\Microsoft.ML.OnnxRuntime.dll" 
            target="lib\nestandard2.0"
        />
        <file 
            src="bin\$Configuration$\netstandard2.0\Microsoft.ML.OnnxRuntime.pdb" 
            target="lib\nestandard2.0"
        />

        <!-- Microsoft.ML.OnnxRuntime.Tensors.dll,.pdb -->
        <file 
            src="$OnnxRuntimeCsharpRoot$\src\Microsoft.ML.OnnxRuntime.Tensors\bin\$Configuration$\netstandard1.1\Microsoft.ML.OnnxRuntime.Tensors.dll" 
            target="lib\nestandard1.1"
        />
        <file 
            src="$OnnxRuntimeCsharpRoot$\src\Microsoft.ML.OnnxRuntime.Tensors\bin\$Configuration$\netstandard1.1\Microsoft.ML.OnnxRuntime.Tensors.pdb" 
            target="lib\nestandard1.1"
        />
        <file 
            src="$OnnxRuntimeCsharpRoot$\src\Microsoft.ML.OnnxRuntime.Tensors\bin\$Configuration$\netstandard2.0\Microsoft.ML.OnnxRuntime.Tensors.dll" 
            target="lib\nestandard2.0"
        />
        <file 
            src="$OnnxRuntimeCsharpRoot$\src\Microsoft.ML.OnnxRuntime.Tensors\bin\$Configuration$\netstandard2.0\Microsoft.ML.OnnxRuntime.Tensors.pdb" 
            target="lib\nestandard2.0"
        />


        <!-- C/C++ Headers -->
        <file
            src="$OnnxRuntimeCsharpRoot$\..\include\onnxruntime\core\session\onnxruntime_*.h"
            target="build\native\include"
        />
        <file
            src="$OnnxRuntimeCsharpRoot$\..\include\onnxruntime\core\providers\cpu\cpu_provider_factory.h"
            target="build\native\include"
        />
        <file
            src="$OnnxRuntimeCsharpRoot$\..\include\onnxruntime\core\providers\cuda\cuda_provider_factory.h"
            target="build\native\include"
        />

        <!-- Native DLLs -->
        <file
            src="$NativeBuildOutputDir$\onnxruntime.lib"
            target="runtimes\win-$TargetArchitecture$\native"
        />
        <file
            src="$NativeBuildOutputDir$\onnxruntime.dll"
            target="\runtimes\win-$TargetArchitecture$\native"
        />

        <file src="$NativeRuntimePdbPath$" target="\runtimes\win-$TargetArchitecture$\native"/>
        <file src="$MklDnnDllPath$" target="\runtimes\win-$TargetArchitecture$\native"/>
        <file src="$MklMlDllPath$" target="\runtimes\win-$TargetArchitecture$\native"/>
        <file src="$OpenMpDllPath$" target="\runtimes\win-$TargetArchitecture$\native"/>

        <!-- License/Docs -->
        <file src="$OnnxRuntimeCsharpRoot$\..\LICENSE.txt" target=""/>
        <file src="$OnnxRuntimeCsharpRoot$\..\ThirdPartyNotices.txt" target=""/>
        <file src="$OnnxRuntimeCsharpRoot$\..\docs\CSharp_API.md" target=""/>

        <!-- Build props/targets -->
        <file src="$id$.targets" target="build\netstandard1.1"/>
        <file src="$id$.targets" target="build\netstandard2.0"/>
        <file src="$id$.targets" target="build\native"/>
        <file src="$id$.props" target="build\netstandard1.1"/>
        <file src="$id$.props" target="build\netstandard2.0"/>
        <file src="$id$.props" target="build\native"/>
    </files>
</package>